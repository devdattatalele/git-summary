# GitHub Issue Solver MCP Server - Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# REQUIRED: API Credentials
# ============================================================================

# Google API Key for Gemini AI (get from https://makersuite.google.com/app/apikey)
GOOGLE_API_KEY=your_google_api_key_here

# GitHub Personal Access Token (get from https://github.com/settings/tokens)
# Required scopes: repo, read:org, read:user
GITHUB_TOKEN=your_github_token_here

# ============================================================================
# LICENSE CONFIGURATION
# ============================================================================

# Your license key (optional - if not provided, 10-day free trial will start)
# Get your license from: support@github-issue-solver.com
# LICENSE_KEY=PERS-XXXXXXXX-XXXXXXXX-XXXXXXXX

# Optional: User ID (if not set, will use license key hash or machine ID)
USER_ID=my_user_id

# Development only: Allow running without license validation
# WARNING: Set to false in production!
# ALLOW_NO_LICENSE=true

# ============================================================================
# SUPABASE CONFIGURATION (OPTIONAL - defaults are built into Docker image)
# ============================================================================
# You don't need to set these! They're already configured in the Docker image.
# Only override if you have your own Supabase instance.

# SUPABASE_URL=https://obrwsclermqxtipcauoz.supabase.co
# SUPABASE_ANON_KEY=eyJhbGciOi...

# ============================================================================
# FOR LICENSE GENERATION ONLY (Local machine, NOT in Docker)
# ============================================================================
# Only needed if you're generating licenses with generate_license_supabase.py
# This should NEVER be in the Docker container!

# Supabase credentials for license generation (YOUR MACHINE ONLY)
# SUPABASE_URL=https://obrwsclermqxtipcauoz.supabase.co
# SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================================================
# OPTIONAL: Google Docs Integration
# ============================================================================

# Google Docs document ID for analysis reports (optional)
# GOOGLE_DOCS_ID=your_google_docs_document_id

# ============================================================================
# STORAGE CONFIGURATION
# ============================================================================

# ChromaDB persistence directory (default: ./chroma_db)
CHROMA_PERSIST_DIR=./chroma_db

# ============================================================================
# INGESTION LIMITS
# ============================================================================

# Maximum issues to ingest per repository (default: 100)
MAX_ISSUES=100

# Maximum PRs to ingest per repository (default: 15)
# Note: Reduced from 50 to prevent timeouts on large repos
MAX_PRS=15

# Maximum files to analyze for structure (default: 50)
MAX_FILES=50

# ============================================================================
# EMBEDDING CONFIGURATION
# ============================================================================

# Embedding provider: 'google' or 'fastembed'
# - google: Uses Google Gemini API (requires API quota)
# - fastembed: Offline local model (faster, no API costs)
EMBEDDING_PROVIDER=fastembed

# FastEmbed model name (only used if EMBEDDING_PROVIDER=fastembed)
EMBEDDING_MODEL_NAME=BAAI/bge-small-en-v1.5

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable patch generation (default: true)
ENABLE_PATCH_GENERATION=true

# Maximum complexity for auto PR (1-10, default: 4)
MAX_COMPLEXITY_FOR_AUTO_PR=4

# ============================================================================
# LOGGING & MONITORING
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR (default: INFO)
LOG_LEVEL=INFO

# Health check interval in seconds (default: 300)
HEALTH_CHECK_INTERVAL=300

# ============================================================================
# RETRY CONFIGURATION
# ============================================================================

# Number of retry attempts for API calls (default: 3)
RETRY_ATTEMPTS=3

# Delay between retries in seconds (default: 1)
RETRY_DELAY=1

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================

# MCP transport protocol: stdio or sse (default: stdio)
MCP_TRANSPORT=stdio

# Server port (for SSE transport only, default: 8080)
# SERVER_PORT=8080
